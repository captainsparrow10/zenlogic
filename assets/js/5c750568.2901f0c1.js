"use strict";(globalThis.webpackChunkerp_docs=globalThis.webpackChunkerp_docs||[]).push([[6264],{8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>r});var i=a(6540);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},9372:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"microservicios/catalog-service/eventos-consumidos","title":"Eventos Consumidos","description":"Eventos de otros microservicios que Catalog Service consume para mantener sincronizaci\xf3n.","source":"@site/docs/02-microservicios/catalog-service/06-eventos-consumidos.md","sourceDirName":"02-microservicios/catalog-service","slug":"/microservicios/catalog-service/eventos-consumidos","permalink":"/zenlogic/microservicios/catalog-service/eventos-consumidos","draft":false,"unlisted":false,"editUrl":"https://github.com/your-repo/edit/main/docs/02-microservicios/catalog-service/06-eventos-consumidos.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"docs","previous":{"title":"Eventos Publicados","permalink":"/zenlogic/microservicios/catalog-service/eventos-publicados"},"next":{"title":"Validaci\xf3n de Locales","permalink":"/zenlogic/microservicios/catalog-service/validacion-locales"}}');var s=a(4848),t=a(8453);const o={sidebar_position:7},r="Eventos Consumidos",d={},c=[{value:"Exchanges Suscritos",id:"exchanges-suscritos",level:2},{value:"Queue Configuration",id:"queue-configuration",level:2},{value:"Eventos de Auth Service",id:"eventos-de-auth-service",level:2},{value:"auth.user.deactivated",id:"authuserdeactivated",level:3},{value:"auth.local.created",id:"authlocalcreated",level:3},{value:"auth.local.updated",id:"authlocalupdated",level:3},{value:"auth.local.deleted",id:"authlocaldeleted",level:3},{value:"auth.organization.suspended",id:"authorganizationsuspended",level:3},{value:"auth.organization.deactivated",id:"authorganizationdeactivated",level:3},{value:"Implementaci\xf3n del Consumer",id:"implementaci\xf3n-del-consumer",level:2},{value:"Event Consumer",id:"event-consumer",level:3},{value:"Registro de Handlers",id:"registro-de-handlers",level:3},{value:"Inicio del Consumer",id:"inicio-del-consumer",level:3},{value:"Manejo de Errores",id:"manejo-de-errores",level:2},{value:"Retry Logic",id:"retry-logic",level:3},{value:"Dead Letter Queue",id:"dead-letter-queue",level:3},{value:"Monitoreo",id:"monitoreo",level:2},{value:"M\xe9tricas",id:"m\xe9tricas",level:3},{value:"Pr\xf3ximos Pasos",id:"pr\xf3ximos-pasos",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"eventos-consumidos",children:"Eventos Consumidos"})}),"\n",(0,s.jsx)(n.p,{children:"Eventos de otros microservicios que Catalog Service consume para mantener sincronizaci\xf3n."}),"\n",(0,s.jsx)(n.h2,{id:"exchanges-suscritos",children:"Exchanges Suscritos"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'EXCHANGES_CONSUMED = {\n    "auth_events": {\n        "type": "topic",\n        "bindings": [\n            "auth.user.deactivated",\n            "auth.local.created",\n            "auth.local.updated",\n            "auth.local.deleted",\n            "auth.organization.suspended",\n            "auth.organization.deactivated"\n        ]\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"queue-configuration",children:"Queue Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'QUEUE_NAME = "catalog_auth_events_queue"\nQUEUE_DURABLE = True\nQUEUE_PREFETCH_COUNT = 10\n'})}),"\n",(0,s.jsx)(n.h2,{id:"eventos-de-auth-service",children:"Eventos de Auth Service"}),"\n",(0,s.jsx)(n.h3,{id:"authuserdeactivated",children:"auth.user.deactivated"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para auditar qui\xe9n modific\xf3 productos antes de ser desactivado."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.user.deactivated"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.user.deactivated",\n  "timestamp": "2025-11-23T15:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "user_id": "user-uuid",\n    "organization_id": "org-uuid",\n    "email": "user@example.com",\n    "deactivated_by": "admin-uuid",\n    "deactivated_at": "2025-11-23T15:00:00Z",\n    "reason": "Renuncia"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_user_deactivated(event: dict):\n    """\n    Manejar desactivaci\xf3n de usuario.\n\n    - Invalidar cache de productos modificados por este usuario\n    - Registrar en logs para auditor\xeda\n    """\n    user_id = event["data"]["user_id"]\n    org_id = event["data"]["organization_id"]\n\n    # Invalidar cache de productos del usuario\n    await cache.delete_pattern(f"product:*:created_by:{user_id}")\n\n    logger.info(\n        f"Usuario {user_id} desactivado - cache invalidado",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"authlocalcreated",children:"auth.local.created"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para sincronizar cache de locales disponibles."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.local.created"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.local.created",\n  "timestamp": "2025-11-23T16:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "local_id": "local-uuid",\n    "organization_id": "org-uuid",\n    "name": "Sucursal Centro",\n    "type": "store",\n    "is_active": true,\n    "created_by": "admin-uuid",\n    "created_at": "2025-11-23T16:00:00Z"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_local_created(event: dict):\n    """\n    Manejar creaci\xf3n de local.\n\n    - Actualizar cache de locales\n    - Permitir asignaci\xf3n de productos a este local\n    """\n    local_id = event["data"]["local_id"]\n    org_id = event["data"]["organization_id"]\n\n    # Actualizar cache de locales\n    locals_cache_key = f"locals:{org_id}"\n    await cache.delete(locals_cache_key)\n\n    logger.info(\n        f"Nuevo local {local_id} creado - cache actualizado",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"authlocalupdated",children:"auth.local.updated"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para actualizar informaci\xf3n de locales en cache."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.local.updated"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.local.updated",\n  "timestamp": "2025-11-23T17:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "local_id": "local-uuid",\n    "organization_id": "org-uuid",\n    "changes": {\n      "name": {\n        "old": "Sucursal Centro",\n        "new": "Sucursal Centro Hist\xf3rico"\n      }\n    },\n    "updated_by": "admin-uuid",\n    "updated_at": "2025-11-23T17:00:00Z"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_local_updated(event: dict):\n    """\n    Manejar actualizaci\xf3n de local.\n\n    - Invalidar cache de locales\n    """\n    org_id = event["data"]["organization_id"]\n\n    # Invalidar cache de locales\n    locals_cache_key = f"locals:{org_id}"\n    await cache.delete(locals_cache_key)\n\n    logger.info(\n        f"Local actualizado - cache invalidado",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"authlocaldeleted",children:"auth.local.deleted"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para remover productos asignados a locales eliminados."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.local.deleted"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.local.deleted",\n  "timestamp": "2025-11-23T18:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "local_id": "local-uuid",\n    "organization_id": "org-uuid",\n    "deleted_by": "admin-uuid",\n    "deleted_at": "2025-11-23T18:00:00Z"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_local_deleted(event: dict):\n    """\n    Manejar eliminaci\xf3n de local.\n\n    - Remover asignaciones de productos a este local\n    - Invalidar cache\n    """\n    local_id = event["data"]["local_id"]\n    org_id = event["data"]["organization_id"]\n\n    # Remover asignaciones (si existieran en el futuro)\n    # await product_repo.remove_local_assignments(local_id)\n\n    # Invalidar cache de locales\n    await cache.delete(f"locals:{org_id}")\n\n    logger.warning(\n        f"Local {local_id} eliminado",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"authorganizationsuspended",children:"auth.organization.suspended"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para desactivar temporalmente productos de organizaci\xf3n suspendida."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.organization.suspended"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.organization.suspended",\n  "timestamp": "2025-11-23T19:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "organization_id": "org-uuid",\n    "suspended_by": "system-admin-uuid",\n    "suspended_at": "2025-11-23T19:00:00Z",\n    "reason": "Falta de pago",\n    "suspension_end_date": "2025-12-23T19:00:00Z"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_organization_suspended(event: dict):\n    """\n    Manejar suspensi\xf3n de organizaci\xf3n.\n\n    - Marcar todos los productos como inactivos temporalmente\n    - Invalidar todo el cache de la organizaci\xf3n\n    """\n    org_id = event["data"]["organization_id"]\n\n    # Desactivar productos (flag temporal)\n    await product_repo.suspend_all_products(org_id)\n\n    # Invalidar todo el cache de la organizaci\xf3n\n    await cache.delete_pattern(f"*:{org_id}:*")\n\n    logger.warning(\n        f"Organizaci\xf3n {org_id} suspendida - productos desactivados",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h3,{id:"authorganizationdeactivated",children:"auth.organization.deactivated"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Por qu\xe9 lo consumimos"}),": Para archivar productos de organizaci\xf3n desactivada."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Routing Key"}),": ",(0,s.jsx)(n.code,{children:"auth.organization.deactivated"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event": "auth.organization.deactivated",\n  "timestamp": "2025-11-23T20:00:00Z",\n  "service": "auth-service",\n  "version": "1.0",\n  "data": {\n    "organization_id": "org-uuid",\n    "deactivated_by": "system-admin-uuid",\n    "deactivated_at": "2025-11-23T20:00:00Z",\n    "reason": "Cancelaci\xf3n de cuenta"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Acci\xf3n en Catalog Service"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def handle_organization_deactivated(event: dict):\n    """\n    Manejar desactivaci\xf3n de organizaci\xf3n.\n\n    - Soft delete de todos los productos\n    - Limpiar todo el cache\n    """\n    org_id = event["data"]["organization_id"]\n\n    # Soft delete de todos los productos\n    await product_repo.soft_delete_all(org_id)\n\n    # Limpiar cache completamente\n    await cache.delete_pattern(f"*:{org_id}:*")\n\n    logger.critical(\n        f"Organizaci\xf3n {org_id} desactivada - productos eliminados",\n        extra={"organization_id": org_id}\n    )\n'})}),"\n",(0,s.jsx)(n.h2,{id:"implementaci\xf3n-del-consumer",children:"Implementaci\xf3n del Consumer"}),"\n",(0,s.jsx)(n.h3,{id:"event-consumer",children:"Event Consumer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import json\nimport aio_pika\nfrom typing import Callable, Dict\nfrom config.settings import settings\n\nclass EventConsumer:\n    """Consumer de eventos de RabbitMQ."""\n\n    def __init__(self):\n        self.connection = None\n        self.channel = None\n        self.handlers: Dict[str, Callable] = {}\n\n    def register_handler(self, event_type: str, handler: Callable):\n        """Registrar handler para tipo de evento."""\n        self.handlers[event_type] = handler\n\n    async def connect(self):\n        """Conectar a RabbitMQ y configurar queue."""\n        self.connection = await aio_pika.connect_robust(\n            settings.rabbitmq_url\n        )\n        self.channel = await self.connection.channel()\n        await self.channel.set_qos(prefetch_count=10)\n\n        # Declarar queue\n        queue = await self.channel.declare_queue(\n            "catalog_auth_events_queue",\n            durable=True\n        )\n\n        # Declarar exchange\n        exchange = await self.channel.declare_exchange(\n            "auth_events",\n            aio_pika.ExchangeType.TOPIC,\n            durable=True\n        )\n\n        # Bindings\n        await queue.bind(exchange, routing_key="auth.user.deactivated")\n        await queue.bind(exchange, routing_key="auth.local.*")\n        await queue.bind(exchange, routing_key="auth.organization.suspended")\n        await queue.bind(exchange, routing_key="auth.organization.deactivated")\n\n        return queue\n\n    async def start_consuming(self):\n        """Iniciar consumo de eventos."""\n        queue = await self.connect()\n\n        async with queue.iterator() as queue_iter:\n            async for message in queue_iter:\n                async with message.process():\n                    await self.handle_message(message)\n\n    async def handle_message(self, message: aio_pika.IncomingMessage):\n        """Procesar mensaje recibido."""\n        try:\n            event = json.loads(message.body.decode())\n            event_type = event.get("event")\n\n            if event_type in self.handlers:\n                handler = self.handlers[event_type]\n                await handler(event)\n                logger.info(f"Evento {event_type} procesado correctamente")\n            else:\n                logger.warning(f"No hay handler para evento: {event_type}")\n\n        except Exception as e:\n            logger.error(f"Error procesando mensaje: {e}")\n            # El mensaje NO se confirma, RabbitMQ lo reenviar\xe1\n            raise\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registro-de-handlers",children:"Registro de Handlers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from app.events.consumer import EventConsumer\nfrom app.events.handlers import (\n    handle_user_deactivated,\n    handle_local_created,\n    handle_local_updated,\n    handle_local_deleted,\n    handle_organization_suspended,\n    handle_organization_deactivated\n)\n\ndef setup_event_consumer() -> EventConsumer:\n    """Configurar consumer con todos los handlers."""\n    consumer = EventConsumer()\n\n    # Registrar handlers\n    consumer.register_handler(\n        "auth.user.deactivated",\n        handle_user_deactivated\n    )\n    consumer.register_handler(\n        "auth.local.created",\n        handle_local_created\n    )\n    consumer.register_handler(\n        "auth.local.updated",\n        handle_local_updated\n    )\n    consumer.register_handler(\n        "auth.local.deleted",\n        handle_local_deleted\n    )\n    consumer.register_handler(\n        "auth.organization.suspended",\n        handle_organization_suspended\n    )\n    consumer.register_handler(\n        "auth.organization.deactivated",\n        handle_organization_deactivated\n    )\n\n    return consumer\n'})}),"\n",(0,s.jsx)(n.h3,{id:"inicio-del-consumer",children:"Inicio del Consumer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import asyncio\nfrom app.events.setup import setup_event_consumer\n\nasync def main():\n    """Iniciar consumer en background."""\n    consumer = setup_event_consumer()\n    await consumer.start_consuming()\n\nif __name__ == "__main__":\n    asyncio.run(main())\n'})}),"\n",(0,s.jsx)(n.h2,{id:"manejo-de-errores",children:"Manejo de Errores"}),"\n",(0,s.jsx)(n.h3,{id:"retry-logic",children:"Retry Logic"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from tenacity import retry, stop_after_attempt, wait_exponential\n\n@retry(\n    stop=stop_after_attempt(3),\n    wait=wait_exponential(multiplier=1, min=2, max=10)\n)\nasync def handle_with_retry(handler: Callable, event: dict):\n    """Ejecutar handler con reintentos."""\n    await handler(event)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"dead-letter-queue",children:"Dead Letter Queue"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Configurar DLQ para mensajes que fallan repetidamente\ndlq = await channel.declare_queue(\n    "catalog_events_dlq",\n    durable=True\n)\n\nqueue = await channel.declare_queue(\n    "catalog_auth_events_queue",\n    durable=True,\n    arguments={\n        "x-dead-letter-exchange": "",\n        "x-dead-letter-routing-key": "catalog_events_dlq"\n    }\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"monitoreo",children:"Monitoreo"}),"\n",(0,s.jsx)(n.h3,{id:"m\xe9tricas",children:"M\xe9tricas"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import prometheus_client as prom\n\nevents_consumed = prom.Counter(\n    "catalog_events_consumed_total",\n    "Total de eventos consumidos",\n    ["event_type", "status"]\n)\n\n@events_consumed.count_exceptions()\nasync def handle_message(message):\n    event_type = message.event_type\n    try:\n        await process_event(message)\n        events_consumed.labels(event_type=event_type, status="success").inc()\n    except Exception as e:\n        events_consumed.labels(event_type=event_type, status="error").inc()\n        raise\n'})}),"\n",(0,s.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos Pasos"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/microservicios/catalog-service/eventos-publicados",children:"Eventos Publicados"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/microservicios/catalog-service/validacion-locales",children:"Validaci\xf3n de Locales"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/microservicios/auth-service/overview",children:"Auth Service"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);