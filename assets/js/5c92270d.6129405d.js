"use strict";(globalThis.webpackChunkerp_docs=globalThis.webpackChunkerp_docs||[]).push([[367],{3698:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"microservicios/catalog-service/flujos-negocio","title":"Flujos de Negocio","description":"Diagramas de flujos principales del Catalog Service.","source":"@site/docs/02-microservicios/catalog-service/14-flujos-negocio.md","sourceDirName":"02-microservicios/catalog-service","slug":"/microservicios/catalog-service/flujos-negocio","permalink":"/zenlogic/microservicios/catalog-service/flujos-negocio","draft":false,"unlisted":false,"editUrl":"https://github.com/your-repo/edit/main/docs/02-microservicios/catalog-service/14-flujos-negocio.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15},"sidebar":"docs","previous":{"title":"Estrategia de Cache","permalink":"/zenlogic/microservicios/catalog-service/cache-strategy"},"next":{"title":"Testing","permalink":"/zenlogic/microservicios/catalog-service/testing"}}');var r=i(4848),c=i(8453);const t={sidebar_position:15},o="Flujos de Negocio",d={},l=[{value:"Flujo de Creaci\xf3n de Producto",id:"flujo-de-creaci\xf3n-de-producto",level:2},{value:"Flujo de Consulta con Cache",id:"flujo-de-consulta-con-cache",level:2},{value:"Flujo de Creaci\xf3n de Variantes",id:"flujo-de-creaci\xf3n-de-variantes",level:2},{value:"Flujo de Validaci\xf3n de Local",id:"flujo-de-validaci\xf3n-de-local",level:2},{value:"Flujo de Consumo de Eventos",id:"flujo-de-consumo-de-eventos",level:2},{value:"Flujo de Creaci\xf3n de Brand",id:"flujo-de-creaci\xf3n-de-brand",level:2},{value:"Flujo de Jerarqu\xeda de Collections",id:"flujo-de-jerarqu\xeda-de-collections",level:2},{value:"Flujo de Asignaci\xf3n de Tags",id:"flujo-de-asignaci\xf3n-de-tags",level:2},{value:"Flujo de C\xe1lculo de Price Tier",id:"flujo-de-c\xe1lculo-de-price-tier",level:2},{value:"Flujo de Upload de Imagen",id:"flujo-de-upload-de-imagen",level:2},{value:"Flujo de Reordenamiento de Im\xe1genes",id:"flujo-de-reordenamiento-de-im\xe1genes",level:2},{value:"Mejores Pr\xe1cticas",id:"mejores-pr\xe1cticas",level:2},{value:"Validaci\xf3n de Integridad",id:"validaci\xf3n-de-integridad",level:3},{value:"Optimizaci\xf3n de Consultas",id:"optimizaci\xf3n-de-consultas",level:3},{value:"Manejo de Transacciones",id:"manejo-de-transacciones",level:3},{value:"Cache con Invalidaci\xf3n Inteligente",id:"cache-con-invalidaci\xf3n-inteligente",level:3},{value:"Pr\xf3ximos Pasos",id:"pr\xf3ximos-pasos",level:2}];function s(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"flujos-de-negocio",children:"Flujos de Negocio"})}),"\n",(0,r.jsx)(n.p,{children:"Diagramas de flujos principales del Catalog Service."}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-creaci\xf3n-de-producto",children:"Flujo de Creaci\xf3n de Producto"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant ProductService\n    participant AuthClient\n    participant ProductRepo\n    participant EventPub\n    participant Cache\n\n    User->>API: POST /products<br/>{name, sku, price}\n    API->>AuthClient: verify_token(token)\n    AuthClient--\x3e>API: user_data\n\n    API->>ProductService: create_product(data)\n    ProductService->>ProductRepo: check_sku_exists(sku, org_id)\n\n    alt SKU ya existe\n        ProductRepo--\x3e>ProductService: SKU exists\n        ProductService--\x3e>API: 409 SKU_ALREADY_EXISTS\n        API--\x3e>User: 409 Conflict\n    end\n\n    ProductService->>ProductRepo: create(product)\n    ProductRepo--\x3e>ProductService: Product\n\n    ProductService->>EventPub: publish("catalog.product.created")\n    ProductService->>Cache: delete("product_list:org_id:*")\n\n    ProductService--\x3e>API: Product\n    API--\x3e>User: 201 Created + Product'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-consulta-con-cache",children:"Flujo de Consulta con Cache"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant API\n    participant Cache\n    participant ProductRepo\n    participant DB\n\n    User->>API: GET /products/{id}\n    API->>Cache: GET product:org_id:id\n\n    alt Cache hit\n        Cache--\x3e>API: Product data\n        API--\x3e>User: 200 OK + Product\n    else Cache miss\n        Cache--\x3e>API: None\n        API->>ProductRepo: get_by_id(id, org_id)\n        ProductRepo->>DB: SELECT * FROM products\n        DB--\x3e>ProductRepo: Product\n        ProductRepo--\x3e>API: Product\n\n        API->>Cache: SET product:org_id:id<br/>TTL=600s\n\n        API--\x3e>User: 200 OK + Product\n    end"}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-creaci\xf3n-de-variantes",children:"Flujo de Creaci\xf3n de Variantes"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant VariantService\n    participant ProductRepo\n    participant OptionRepo\n    participant VariantRepo\n    participant EventPub\n\n    User->>API: POST /products/{id}/variants<br/>{sku, price, options}\n    API->>VariantService: create_variant(data)\n\n    VariantService->>ProductRepo: get_by_id(product_id)\n\n    alt Producto no existe\n        ProductRepo--\x3e>VariantService: None\n        VariantService--\x3e>API: 404 PRODUCT_NOT_FOUND\n        API--\x3e>User: 404 Not Found\n    end\n\n    loop Para cada option\n        VariantService->>OptionRepo: get_by_id(option_id)\n        alt Opci\xf3n no existe\n            OptionRepo--\x3e>VariantService: None\n            VariantService--\x3e>API: 404 OPTION_NOT_FOUND\n            API--\x3e>User: 404 Not Found\n        end\n    end\n\n    VariantService->>VariantRepo: check_sku_exists(sku)\n\n    alt SKU duplicado\n        VariantRepo--\x3e>VariantService: Exists\n        VariantService--\x3e>API: 409 SKU_EXISTS\n        API--\x3e>User: 409 Conflict\n    end\n\n    VariantService->>VariantRepo: create(variant)\n    VariantRepo--\x3e>VariantService: Variant\n\n    VariantService->>EventPub: publish("catalog.variant.created")\n\n    VariantService--\x3e>API: Variant\n    API--\x3e>User: 201 Created + Variant'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-validaci\xf3n-de-local",children:"Flujo de Validaci\xf3n de Local"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant Middleware\n    participant Cache\n    participant AuthClient\n    participant ProductService\n\n    User->>Middleware: GET /products?local_id=123\n    Middleware->>Cache: GET locals:org_id:user_id\n\n    alt Cache hit\n        Cache--\x3e>Middleware: [local-1, local-2, local-3]\n    else Cache miss\n        Middleware->>AuthClient: GetUserLocals(user_id)\n        AuthClient--\x3e>Middleware: [local-1, local-2, local-3]\n        Middleware->>Cache: SETEX locals:org_id:user_id\n    end\n\n    Middleware->>Middleware: Verificar local-123 en lista\n\n    alt Local v\xe1lido\n        Middleware->>ProductService: Continuar request\n        ProductService--\x3e>User: 200 OK + Products\n    else Local inv\xe1lido\n        Middleware--\x3e>User: 403 LOCAL_ACCESS_DENIED\n    end"}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-consumo-de-eventos",children:"Flujo de Consumo de Eventos"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant AuthService\n    participant RabbitMQ\n    participant CatalogConsumer\n    participant Cache\n    participant ProductRepo\n\n    AuthService->>RabbitMQ: publish("auth.organization.suspended")\n    RabbitMQ->>CatalogConsumer: deliver message\n\n    CatalogConsumer->>CatalogConsumer: handle_organization_suspended(event)\n\n    CatalogConsumer->>ProductRepo: suspend_all_products(org_id)\n    ProductRepo--\x3e>CatalogConsumer: Updated count\n\n    CatalogConsumer->>Cache: delete_pattern("*:org_id:*")\n\n    CatalogConsumer->>CatalogConsumer: Log warning\n    CatalogConsumer->>RabbitMQ: ACK message'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-creaci\xf3n-de-brand",children:"Flujo de Creaci\xf3n de Brand"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant BrandService\n    participant BrandRepo\n    participant EventPub\n    participant Cache\n\n    User->>API: POST /brands<br/>{name, slug, logo_url}\n    API->>BrandService: create_brand(data, org_id)\n\n    BrandService->>BrandService: validate_brand_data(data)\n\n    alt Datos inv\xe1lidos\n        BrandService--\x3e>API: 400 INVALID_BRAND_DATA\n        API--\x3e>User: 400 Bad Request\n    end\n\n    BrandService->>BrandRepo: check_slug_exists(slug, org_id)\n\n    alt Slug duplicado\n        BrandRepo--\x3e>BrandService: True\n        BrandService--\x3e>API: 409 BRAND_SLUG_EXISTS\n        API--\x3e>User: 409 Conflict\n    end\n\n    BrandService->>BrandRepo: create(brand)\n    BrandRepo--\x3e>BrandService: Brand\n\n    BrandService->>EventPub: publish("catalog.brand.created")\n    BrandService->>Cache: delete("brand_list:org_id:*")\n\n    BrandService--\x3e>API: Brand\n    API--\x3e>User: 201 Created + Brand'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-jerarqu\xeda-de-collections",children:"Flujo de Jerarqu\xeda de Collections"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant CollectionService\n    participant CollectionRepo\n    participant EventPub\n\n    User->>API: POST /collections<br/>{name, parent_id}\n    API->>CollectionService: create_collection(data)\n\n    alt parent_id proporcionado\n        CollectionService->>CollectionRepo: get_by_id(parent_id)\n\n        alt Parent no existe\n            CollectionRepo--\x3e>CollectionService: None\n            CollectionService--\x3e>API: 404 COLLECTION_NOT_FOUND\n            API--\x3e>User: 404 Not Found\n        end\n\n        CollectionService->>CollectionRepo: get_descendants(parent_id)\n        CollectionRepo--\x3e>CollectionService: [descendant_ids]\n\n        CollectionService->>CollectionService: Verificar referencia circular\n\n        alt Referencia circular detectada\n            CollectionService--\x3e>API: 400 CIRCULAR_COLLECTION_REFERENCE\n            API--\x3e>User: 400 Bad Request\n        end\n    end\n\n    CollectionService->>CollectionRepo: check_slug_exists(slug)\n\n    alt Slug duplicado\n        CollectionRepo--\x3e>CollectionService: True\n        CollectionService--\x3e>API: 409 COLLECTION_SLUG_EXISTS\n        API--\x3e>User: 409 Conflict\n    end\n\n    CollectionService->>CollectionRepo: create(collection)\n    CollectionRepo--\x3e>CollectionService: Collection\n\n    CollectionService->>EventPub: publish("catalog.collection.created")\n\n    CollectionService--\x3e>API: Collection\n    API--\x3e>User: 201 Created + Collection'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-asignaci\xf3n-de-tags",children:"Flujo de Asignaci\xf3n de Tags"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant ProductService\n    participant ProductRepo\n    participant TagRepo\n    participant ProductTagRepo\n    participant EventPub\n    participant Cache\n\n    User->>API: POST /products/{id}/tags<br/>{tag_ids: [1, 2, 3]}\n    API->>ProductService: add_tags_to_product(product_id, tag_ids)\n\n    ProductService->>ProductRepo: get_by_id(product_id, org_id)\n\n    alt Producto no existe\n        ProductRepo--\x3e>ProductService: None\n        ProductService--\x3e>API: 404 PRODUCT_NOT_FOUND\n        API--\x3e>User: 404 Not Found\n    end\n\n    loop Para cada tag_id\n        ProductService->>TagRepo: get_by_id(tag_id, org_id)\n\n        alt Tag no existe\n            TagRepo--\x3e>ProductService: None\n            ProductService--\x3e>API: 404 TAG_NOT_FOUND\n            API--\x3e>User: 404 Not Found\n        end\n    end\n\n    ProductService->>ProductTagRepo: get_existing_tags(product_id)\n    ProductTagRepo--\x3e>ProductService: [existing_tag_ids]\n\n    ProductService->>ProductService: filter_new_tags(tag_ids, existing)\n\n    loop Para cada nuevo tag\n        ProductService->>ProductTagRepo: create(product_id, tag_id)\n    end\n\n    ProductService->>EventPub: publish("catalog.product.tags.added")\n    ProductService->>Cache: delete("product:org_id:product_id")\n\n    ProductService--\x3e>API: {added_count: 2}\n    API--\x3e>User: 200 OK + resultado'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-c\xe1lculo-de-price-tier",children:"Flujo de C\xe1lculo de Price Tier"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant API\n    participant PricingService\n    participant VariantRepo\n    participant PriceTierRepo\n    participant Cache\n\n    User->>API: GET /variants/{id}/calculate-price?quantity=75\n    API->>PricingService: calculate_price(variant_id, quantity, org_id)\n\n    PricingService->>Cache: GET price:variant_id:quantity\n\n    alt Cache hit\n        Cache--\x3e>PricingService: calculated_price\n        PricingService--\x3e>API: price_data\n        API--\x3e>User: 200 OK + price\n    end\n\n    PricingService->>VariantRepo: get_by_id(variant_id, org_id)\n\n    alt Variante no existe\n        VariantRepo--\x3e>PricingService: None\n        PricingService--\x3e>API: 404 VARIANT_NOT_FOUND\n        API--\x3e>User: 404 Not Found\n    end\n\n    VariantRepo--\x3e>PricingService: Variant(base_price)\n\n    PricingService->>PriceTierRepo: get_rules_for_variant(variant_id)\n    PriceTierRepo--\x3e>PricingService: [rules ordered by min_qty DESC]\n\n    PricingService->>PricingService: Filtrar rules donde quantity >= min_qty\n    PricingService->>PricingService: Seleccionar primera regla (mayor min_qty)\n\n    alt Regla encontrada\n        PricingService->>PricingService: use rule.price\n    else Sin regla\n        PricingService->>PricingService: use variant.price\n    end\n\n    PricingService->>PricingService: calculate_total(price, quantity, tax)\n\n    PricingService->>Cache: SETEX price:variant_id:quantity<br/>TTL=300s\n\n    PricingService--\x3e>API: {unit_price, quantity, subtotal, tax, total}\n    API--\x3e>User: 200 OK + c\xe1lculo completo"}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-upload-de-imagen",children:"Flujo de Upload de Imagen"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant ImageService\n    participant ProductRepo\n    participant S3Client\n    participant ThumbnailService\n    participant ImageRepo\n    participant EventPub\n    participant CDN\n\n    User->>API: POST /products/{id}/images<br/>multipart/form-data\n    API->>ImageService: upload_image(file, product_id)\n\n    ImageService->>ImageService: validate_file(size, format, dimensions)\n\n    alt Archivo inv\xe1lido\n        ImageService--\x3e>API: 400/413/422 Error\n        API--\x3e>User: Error de validaci\xf3n\n    end\n\n    ImageService->>ProductRepo: get_by_id(product_id)\n\n    alt Producto no existe\n        ProductRepo--\x3e>ImageService: None\n        ImageService--\x3e>API: 404 PRODUCT_NOT_FOUND\n        API--\x3e>User: 404 Not Found\n    end\n\n    ImageService->>ImageRepo: count_images(product_id)\n\n    alt L\xedmite alcanzado (10 im\xe1genes)\n        ImageRepo--\x3e>ImageService: count=10\n        ImageService--\x3e>API: 422 MAX_IMAGES_EXCEEDED\n        API--\x3e>User: 422 Unprocessable\n    end\n\n    ImageService->>ImageService: generate_filename(uuid + ext)\n\n    ImageService->>S3Client: upload(file, bucket, key)\n    S3Client--\x3e>ImageService: s3_url\n\n    par Generar thumbnails\n        ImageService->>ThumbnailService: create_thumbnail(file, "large", 1200x1200)\n        ThumbnailService->>S3Client: upload(large_thumb)\n        and\n        ImageService->>ThumbnailService: create_thumbnail(file, "medium", 600x600)\n        ThumbnailService->>S3Client: upload(medium_thumb)\n        and\n        ImageService->>ThumbnailService: create_thumbnail(file, "thumb", 150x150)\n        ThumbnailService->>S3Client: upload(thumb)\n    end\n\n    ImageService->>CDN: invalidate_cache(product_id)\n\n    ImageService->>ImageRepo: create(image_data)\n    ImageRepo--\x3e>ImageService: Image\n\n    ImageService->>EventPub: publish("catalog.product.image.uploaded")\n\n    ImageService--\x3e>API: Image + CDN URLs\n    API--\x3e>User: 201 Created + Image'}),"\n",(0,r.jsx)(n.h2,{id:"flujo-de-reordenamiento-de-im\xe1genes",children:"Flujo de Reordenamiento de Im\xe1genes"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant User\n    participant API\n    participant ImageService\n    participant ProductRepo\n    participant ImageRepo\n    participant EventPub\n    participant Cache\n\n    User->>API: PUT /products/{id}/images/reorder<br/>{order: [img3, img1, img2]}\n    API->>ImageService: reorder_images(product_id, image_order)\n\n    ImageService->>ProductRepo: get_by_id(product_id, org_id)\n\n    alt Producto no existe\n        ProductRepo--\x3e>ImageService: None\n        ImageService--\x3e>API: 404 PRODUCT_NOT_FOUND\n        API--\x3e>User: 404 Not Found\n    end\n\n    ImageService->>ImageRepo: get_all_by_product(product_id)\n    ImageRepo--\x3e>ImageService: [existing_images]\n\n    ImageService->>ImageService: validate_image_ids(order, existing)\n\n    alt IDs inv\xe1lidos\n        ImageService--\x3e>API: 400 INVALID_IMAGE_IDS\n        API--\x3e>User: 400 Bad Request\n    end\n\n    ImageService->>ImageRepo: begin_transaction()\n\n    loop Para cada imagen con nuevo \xedndice\n        ImageService->>ImageRepo: update(image_id, sort_order=index)\n    end\n\n    alt Primera imagen cambi\xf3\n        ImageService->>ProductRepo: update_primary_image(product_id, new_first_id)\n    end\n\n    ImageService->>ImageRepo: commit_transaction()\n\n    ImageService->>EventPub: publish("catalog.product.images.reordered")\n    ImageService->>Cache: delete("product:org_id:product_id")\n\n    ImageService--\x3e>API: {reordered_count: 5}\n    API--\x3e>User: 200 OK + resultado'}),"\n",(0,r.jsx)(n.h2,{id:"mejores-pr\xe1cticas",children:"Mejores Pr\xe1cticas"}),"\n",(0,r.jsx)(n.h3,{id:"validaci\xf3n-de-integridad",children:"Validaci\xf3n de Integridad"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Validar referencias circulares en colecciones\ndef check_circular_reference(collection_id: UUID, parent_id: UUID) -> bool:\n    visited = set()\n    current = parent_id\n\n    while current:\n        if current == collection_id:\n            return True  # Circular reference detected\n        if current in visited:\n            break\n        visited.add(current)\n        current = get_parent_id(current)\n\n    return False\n"})}),"\n",(0,r.jsx)(n.h3,{id:"optimizaci\xf3n-de-consultas",children:"Optimizaci\xf3n de Consultas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Usar selectinload para evitar N+1 en relaciones\nfrom sqlalchemy.orm import selectinload\n\nproducts = db.query(Product)\\\n    .options(\n        selectinload(Product.brand),\n        selectinload(Product.tags),\n        selectinload(Product.images)\n    )\\\n    .filter(Product.organization_id == org_id)\\\n    .all()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"manejo-de-transacciones",children:"Manejo de Transacciones"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Reordenamiento at\xf3mico de im\xe1genes\nasync def reorder_images(product_id: UUID, image_order: list[UUID]):\n    async with db.begin():  # Transaction context\n        for index, image_id in enumerate(image_order):\n            await db.execute(\n                update(ProductImage)\n                .where(ProductImage.image_id == image_id)\n                .values(sort_order=index)\n            )\n\n        # Actualizar imagen principal si cambi\xf3\n        first_image = image_order[0]\n        await update_primary_image(product_id, first_image)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cache-con-invalidaci\xf3n-inteligente",children:"Cache con Invalidaci\xf3n Inteligente"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# Invalidar solo caches relacionadas\nasync def invalidate_product_caches(product_id: UUID, org_id: UUID):\n    patterns = [\n        f"product:{org_id}:{product_id}",\n        f"product_list:{org_id}:*",\n        f"collection_products:{org_id}:*",\n    ]\n\n    for pattern in patterns:\n        await cache.delete_pattern(pattern)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos Pasos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/microservicios/catalog-service/eventos-publicados",children:"Eventos Publicados"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/microservicios/catalog-service/eventos-consumidos",children:"Eventos Consumidos"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/microservicios/catalog-service/arquitectura",children:"Arquitectura"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var a=i(6540);const r={},c=a.createContext(r);function t(e){const n=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(c.Provider,{value:n},e.children)}}}]);