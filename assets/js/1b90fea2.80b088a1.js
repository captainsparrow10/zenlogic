"use strict";(globalThis.webpackChunkerp_docs=globalThis.webpackChunkerp_docs||[]).push([[1951],{7166:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"microservicios/catalog-service/eventos-publicados","title":"Eventos Publicados","description":"Eventos que Catalog Service publica a RabbitMQ para comunicaci\xf3n as\xedncrona.","source":"@site/docs/02-microservicios/catalog-service/05-eventos-publicados.md","sourceDirName":"02-microservicios/catalog-service","slug":"/microservicios/catalog-service/eventos-publicados","permalink":"/zenlogic/microservicios/catalog-service/eventos-publicados","draft":false,"unlisted":false,"editUrl":"https://github.com/your-repo/edit/main/docs/02-microservicios/catalog-service/05-eventos-publicados.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docs","previous":{"title":"Configuraci\xf3n","permalink":"/zenlogic/microservicios/catalog-service/configuracion"},"next":{"title":"Eventos Consumidos","permalink":"/zenlogic/microservicios/catalog-service/eventos-consumidos"}}');var i=a(4848),o=a(8453);const d={sidebar_position:6},r="Eventos Publicados",s={},c=[{value:"Exchange Configuration",id:"exchange-configuration",level:2},{value:"Routing Keys Pattern",id:"routing-keys-pattern",level:2},{value:"Eventos de Productos",id:"eventos-de-productos",level:2},{value:"catalog.product.created",id:"catalogproductcreated",level:3},{value:"catalog.product.updated",id:"catalogproductupdated",level:3},{value:"catalog.product.deleted",id:"catalogproductdeleted",level:3},{value:"catalog.product.activated",id:"catalogproductactivated",level:3},{value:"catalog.product.deactivated",id:"catalogproductdeactivated",level:3},{value:"Eventos de Variantes",id:"eventos-de-variantes",level:2},{value:"catalog.variant.created",id:"catalogvariantcreated",level:3},{value:"catalog.variant.updated",id:"catalogvariantupdated",level:3},{value:"catalog.variant.deleted",id:"catalogvariantdeleted",level:3},{value:"Eventos de Opciones",id:"eventos-de-opciones",level:2},{value:"catalog.option.created",id:"catalogoptioncreated",level:3},{value:"catalog.option.updated",id:"catalogoptionupdated",level:3},{value:"catalog.option.deleted",id:"catalogoptiondeleted",level:3},{value:"Implementaci\xf3n",id:"implementaci\xf3n",level:2},{value:"Event Publisher",id:"event-publisher",level:3},{value:"Uso en Service Layer",id:"uso-en-service-layer",level:3},{value:"Consumidores Esperados",id:"consumidores-esperados",level:2},{value:"Garant\xedas",id:"garant\xedas",level:2},{value:"Monitoreo",id:"monitoreo",level:2},{value:"Logs de Eventos Publicados",id:"logs-de-eventos-publicados",level:3},{value:"Pr\xf3ximos Pasos",id:"pr\xf3ximos-pasos",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"eventos-publicados",children:"Eventos Publicados"})}),"\n",(0,i.jsx)(n.p,{children:"Eventos que Catalog Service publica a RabbitMQ para comunicaci\xf3n as\xedncrona."}),"\n",(0,i.jsx)(n.h2,{id:"exchange-configuration",children:"Exchange Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'EXCHANGE_NAME = "catalog_events"\nEXCHANGE_TYPE = "topic"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"routing-keys-pattern",children:"Routing Keys Pattern"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"catalog.{entity}.{action}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"entity"}),": ",(0,i.jsx)(n.code,{children:"product"}),", ",(0,i.jsx)(n.code,{children:"variant"}),", ",(0,i.jsx)(n.code,{children:"option"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"action"}),": ",(0,i.jsx)(n.code,{children:"created"}),", ",(0,i.jsx)(n.code,{children:"updated"}),", ",(0,i.jsx)(n.code,{children:"deleted"}),", ",(0,i.jsx)(n.code,{children:"activated"}),", ",(0,i.jsx)(n.code,{children:"deactivated"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"eventos-de-productos",children:"Eventos de Productos"}),"\n",(0,i.jsx)(n.h3,{id:"catalogproductcreated",children:"catalog.product.created"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se crea un nuevo producto."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.product.created"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.product.created",\n  "timestamp": "2025-11-23T15:30:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "product_id": "uuid-123",\n    "organization_id": "org-uuid",\n    "name": "Camiseta B\xe1sica",\n    "sku": "CAM-001",\n    "category": "Ropa",\n    "description": "Camiseta de algod\xf3n 100%",\n    "base_price": 19.99,\n    "is_active": true,\n    "created_by": "user-uuid",\n    "created_at": "2025-11-23T15:30:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogproductupdated",children:"catalog.product.updated"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se actualiza un producto existente."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.product.updated"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.product.updated",\n  "timestamp": "2025-11-23T16:00:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "product_id": "uuid-123",\n    "organization_id": "org-uuid",\n    "changes": {\n      "name": {\n        "old": "Camiseta B\xe1sica",\n        "new": "Camiseta Premium"\n      },\n      "base_price": {\n        "old": 19.99,\n        "new": 29.99\n      }\n    },\n    "updated_by": "user-uuid",\n    "updated_at": "2025-11-23T16:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogproductdeleted",children:"catalog.product.deleted"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se elimina un producto (soft delete)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.product.deleted"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.product.deleted",\n  "timestamp": "2025-11-23T17:00:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "product_id": "uuid-123",\n    "organization_id": "org-uuid",\n    "variant_ids": ["variant-uuid-1", "variant-uuid-2", "variant-uuid-3"],\n    "deleted_by": "user-uuid",\n    "deleted_at": "2025-11-23T17:00:00Z",\n    "reason": "Producto descontinuado"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogproductactivated",children:"catalog.product.activated"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se activa un producto previamente inactivo."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.product.activated"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.product.activated",\n  "timestamp": "2025-11-23T18:00:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "product_id": "uuid-123",\n    "organization_id": "org-uuid",\n    "activated_by": "user-uuid",\n    "activated_at": "2025-11-23T18:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogproductdeactivated",children:"catalog.product.deactivated"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se desactiva un producto."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.product.deactivated"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.product.deactivated",\n  "timestamp": "2025-11-23T19:00:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "product_id": "uuid-123",\n    "organization_id": "org-uuid",\n    "deactivated_by": "user-uuid",\n    "deactivated_at": "2025-11-23T19:00:00Z",\n    "reason": "Fuera de stock permanente"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"eventos-de-variantes",children:"Eventos de Variantes"}),"\n",(0,i.jsx)(n.h3,{id:"catalogvariantcreated",children:"catalog.variant.created"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se crea una variante de producto."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.variant.created"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.variant.created",\n  "timestamp": "2025-11-23T15:45:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "variant_id": "variant-uuid",\n    "product_id": "product-uuid",\n    "organization_id": "org-uuid",\n    "sku": "CAM-001-ROJO-M",\n    "barcode": "7501234567890",\n    "name": "Camiseta Roja - M",\n    "price": 29.99,\n    "warehouse_id": "wh_101",\n    "options": [\n      {"option_name": "Color", "value": "Rojo"},\n      {"option_name": "Talla", "value": "M"}\n    ],\n    "is_active": true,\n    "track_inventory": true,\n    "default_min_stock": 20,\n    "default_max_stock": 200,\n    "created_by": "user-uuid",\n    "created_at": "2025-11-23T15:45:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogvariantupdated",children:"catalog.variant.updated"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se actualiza una variante."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.variant.updated"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.variant.updated",\n  "timestamp": "2025-11-23T16:15:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "variant_id": "variant-uuid",\n    "product_id": "product-uuid",\n    "organization_id": "org-uuid",\n    "changes": {\n      "price": {\n        "old": 29.99,\n        "new": 34.99\n      }\n    },\n    "updated_by": "user-uuid",\n    "updated_at": "2025-11-23T16:15:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogvariantdeleted",children:"catalog.variant.deleted"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se elimina una variante."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.variant.deleted"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.variant.deleted",\n  "timestamp": "2025-11-23T17:30:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "variant_id": "variant-uuid",\n    "product_id": "product-uuid",\n    "organization_id": "org-uuid",\n    "deleted_by": "user-uuid",\n    "deleted_at": "2025-11-23T17:30:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"eventos-de-opciones",children:"Eventos de Opciones"}),"\n",(0,i.jsx)(n.h3,{id:"catalogoptioncreated",children:"catalog.option.created"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se crea una opci\xf3n de producto (Color, Talla, etc.)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.option.created"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.option.created",\n  "timestamp": "2025-11-23T14:00:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "option_id": "option-uuid",\n    "organization_id": "org-uuid",\n    "name": "Talla",\n    "values": ["XS", "S", "M", "L", "XL"],\n    "created_by": "user-uuid",\n    "created_at": "2025-11-23T14:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogoptionupdated",children:"catalog.option.updated"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se actualiza una opci\xf3n."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.option.updated"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.option.updated",\n  "timestamp": "2025-11-23T14:30:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "option_id": "option-uuid",\n    "organization_id": "org-uuid",\n    "changes": {\n      "values": {\n        "old": ["XS", "S", "M", "L", "XL"],\n        "new": ["XS", "S", "M", "L", "XL", "XXL"]\n      }\n    },\n    "updated_by": "user-uuid",\n    "updated_at": "2025-11-23T14:30:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"catalogoptiondeleted",children:"catalog.option.deleted"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cu\xe1ndo se publica"}),": Cuando se elimina una opci\xf3n."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Routing Key"}),": ",(0,i.jsx)(n.code,{children:"catalog.option.deleted"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Payload"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "event": "catalog.option.deleted",\n  "timestamp": "2025-11-23T18:30:00Z",\n  "service": "catalog-service",\n  "version": "1.0",\n  "data": {\n    "option_id": "option-uuid",\n    "organization_id": "org-uuid",\n    "deleted_by": "user-uuid",\n    "deleted_at": "2025-11-23T18:30:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"implementaci\xf3n",children:"Implementaci\xf3n"}),"\n",(0,i.jsx)(n.h3,{id:"event-publisher",children:"Event Publisher"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import json\nfrom typing import Dict, Any\nfrom datetime import datetime\nimport aio_pika\nfrom config.settings import settings\n\nclass EventPublisher:\n    """Publisher de eventos a RabbitMQ."""\n\n    def __init__(self):\n        self.connection = None\n        self.channel = None\n        self.exchange = None\n\n    async def connect(self):\n        """Conectar a RabbitMQ."""\n        self.connection = await aio_pika.connect_robust(\n            settings.rabbitmq_url\n        )\n        self.channel = await self.connection.channel()\n        self.exchange = await self.channel.declare_exchange(\n            settings.rabbitmq_exchange_catalog,\n            aio_pika.ExchangeType.TOPIC,\n            durable=True\n        )\n\n    async def publish(\n        self,\n        event_type: str,\n        data: Dict[str, Any]\n    ):\n        """\n        Publicar un evento.\n\n        Args:\n            event_type: Tipo de evento (ej: \'catalog.product.created\')\n            data: Datos del evento\n        """\n        event = {\n            "event": event_type,\n            "timestamp": datetime.utcnow().isoformat(),\n            "service": settings.service_name,\n            "version": "1.0",\n            "organization_id": data.get("organization_id"),\n            "data": data\n        }\n\n        message = aio_pika.Message(\n            body=json.dumps(event).encode(),\n            delivery_mode=aio_pika.DeliveryMode.PERSISTENT,\n            content_type="application/json"\n        )\n\n        await self.exchange.publish(\n            message,\n            routing_key=event_type\n        )\n\n    async def close(self):\n        """Cerrar conexi\xf3n."""\n        if self.connection:\n            await self.connection.close()\n'})}),"\n",(0,i.jsx)(n.h3,{id:"uso-en-service-layer",children:"Uso en Service Layer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from app.events.publisher import EventPublisher\n\nclass ProductService:\n    def __init__(\n        self,\n        product_repo: ProductRepository,\n        event_publisher: EventPublisher\n    ):\n        self.product_repo = product_repo\n        self.event_publisher = event_publisher\n\n    async def create_product(\n        self,\n        product_data: ProductCreate,\n        user_id: str,\n        organization_id: str\n    ) -> Product:\n        """Crear producto y publicar evento."""\n\n        # Crear producto\n        product = await self.product_repo.create(\n            product_data,\n            organization_id\n        )\n\n        # Publicar evento\n        await self.event_publisher.publish(\n            event_type="catalog.product.created",\n            data={\n                "product_id": str(product.id),\n                "organization_id": organization_id,\n                "name": product.name,\n                "sku": product.sku,\n                "category": product.category,\n                "base_price": float(product.base_price),\n                "is_active": product.is_active,\n                "created_by": user_id,\n                "created_at": product.created_at.isoformat()\n            }\n        )\n\n        return product\n\n    async def delete_product(\n        self,\n        product_id: str,\n        user_id: str,\n        organization_id: str,\n        reason: str = None\n    ) -> None:\n        """Eliminar producto y publicar evento con variant_ids."""\n\n        # Obtener todas las variantes del producto antes de eliminar\n        variants = await self.product_repo.get_variants(product_id)\n        variant_ids = [str(v.id) for v in variants]\n\n        # Soft delete del producto\n        await self.product_repo.soft_delete(product_id)\n\n        # Publicar evento con variant_ids para Inventory Service\n        await self.event_publisher.publish(\n            event_type="catalog.product.deleted",\n            data={\n                "product_id": product_id,\n                "organization_id": organization_id,\n                "variant_ids": variant_ids,\n                "deleted_by": user_id,\n                "deleted_at": datetime.utcnow().isoformat(),\n                "reason": reason\n            }\n        )\n'})}),"\n",(0,i.jsx)(n.h2,{id:"consumidores-esperados",children:"Consumidores Esperados"}),"\n",(0,i.jsx)(n.p,{children:"Estos eventos son consumidos por:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Audit Service"})," - Registra todos los eventos para auditor\xeda"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inventory Service"})," - Actualiza inventarios cuando cambian productos/variantes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Order Service"})," - Valida disponibilidad de productos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Analytics Service"})," - Genera reportes de cambios en cat\xe1logo"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"garant\xedas",children:"Garant\xedas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"At-Least-Once Delivery"}),": Los eventos pueden ser entregados m\xe1s de una vez"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Persistencia"}),": Mensajes marcados como ",(0,i.jsx)(n.code,{children:"PERSISTENT"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Orden"}),": No garantizado entre diferentes routing keys"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Idempotencia"}),": Los consumidores deben implementar manejo idempotente"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"monitoreo",children:"Monitoreo"}),"\n",(0,i.jsx)(n.h3,{id:"logs-de-eventos-publicados",children:"Logs de Eventos Publicados"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'import logging\n\nlogger = logging.getLogger(__name__)\n\nasync def publish_with_logging(event_type: str, payload: dict):\n    logger.info(\n        f"Publishing event: {event_type}",\n        extra={\n            "event": event_type,\n            "product_id": payload.get("product_id"),\n            "organization_id": payload.get("organization_id")\n        }\n    )\n    await event_publisher.publish(event_type, payload)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos Pasos"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/microservicios/catalog-service/eventos-consumidos",children:"Eventos Consumidos"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/arquitectura/arquitectura-event-driven",children:"Arquitectura Event-Driven"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/microservicios/audit-service/overview",children:"Audit Service"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>d,x:()=>r});var t=a(6540);const i={},o=t.createContext(i);function d(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);