"use strict";(globalThis.webpackChunkerp_docs=globalThis.webpackChunkerp_docs||[]).push([[9581],{1935:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"arquitectura/vision-general","title":"Visi\xf3n General de la Arquitectura","description":"Introducci\xf3n","source":"@site/docs/01-arquitectura/00-vision-general.md","sourceDirName":"01-arquitectura","slug":"/arquitectura/vision-general","permalink":"/zenlogic/arquitectura/vision-general","draft":false,"unlisted":false,"editUrl":"https://github.com/your-repo/edit/main/docs/01-arquitectura/00-vision-general.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docs","previous":{"title":"Introducci\xf3n","permalink":"/zenlogic/intro"},"next":{"title":"Stack Tecnol\xf3gico","permalink":"/zenlogic/arquitectura/stack-tecnologico"}}');var r=i(4848),a=i(8453);const l={sidebar_position:1},c="Visi\xf3n General de la Arquitectura",t={},d=[{value:"Introducci\xf3n",id:"introducci\xf3n",level:2},{value:"Objetivos del Sistema",id:"objetivos-del-sistema",level:2},{value:"Objetivos de Negocio",id:"objetivos-de-negocio",level:3},{value:"Objetivos T\xe9cnicos",id:"objetivos-t\xe9cnicos",level:3},{value:"Componentes Principales del Sistema",id:"componentes-principales-del-sistema",level:2},{value:"Microservicios del Sistema",id:"microservicios-del-sistema",level:2},{value:"1. Auth Service",id:"1-auth-service",level:3},{value:"2. Catalog Service",id:"2-catalog-service",level:3},{value:"3. Audit Service",id:"3-audit-service",level:3},{value:"4. Inventory Service",id:"4-inventory-service",level:3},{value:"5. Order Service",id:"5-order-service",level:3},{value:"Alcance General",id:"alcance-general",level:2},{value:"M\xf3dulos Funcionales",id:"m\xf3dulos-funcionales",level:3},{value:"Funcionalidades Transversales",id:"funcionalidades-transversales",level:3},{value:"Principios de Dise\xf1o",id:"principios-de-dise\xf1o",level:2},{value:"1. Separaci\xf3n de Responsabilidades (SRP)",id:"1-separaci\xf3n-de-responsabilidades-srp",level:3},{value:"2. Desacoplamiento",id:"2-desacoplamiento",level:3},{value:"3. Escalabilidad Horizontal",id:"3-escalabilidad-horizontal",level:3},{value:"4. Resilencia",id:"4-resilencia",level:3},{value:"5. Consistencia Eventual",id:"5-consistencia-eventual",level:3},{value:"Flujo General de una Operaci\xf3n",id:"flujo-general-de-una-operaci\xf3n",level:2},{value:"Decisiones Arquitect\xf3nicas Clave",id:"decisiones-arquitect\xf3nicas-clave",level:2},{value:"Pr\xf3ximos Pasos",id:"pr\xf3ximos-pasos",level:2}];function o(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"visi\xf3n-general-de-la-arquitectura",children:"Visi\xf3n General de la Arquitectura"})}),"\n",(0,r.jsx)(n.h2,{id:"introducci\xf3n",children:"Introducci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"El Sistema zenLogic est\xe1 dise\xf1ado como una plataforma empresarial escalable que permite a m\xfaltiples organizaciones gestionar sus operaciones de manera independiente dentro de una infraestructura compartida."}),"\n",(0,r.jsx)(n.h2,{id:"objetivos-del-sistema",children:"Objetivos del Sistema"}),"\n",(0,r.jsx)(n.h3,{id:"objetivos-de-negocio",children:"Objetivos de Negocio"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-tenancy Eficiente"}),": Permitir que m\xfaltiples organizaciones (tenants) utilicen el sistema de manera aislada y segura"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Escalabilidad"}),": Crecer horizontalmente seg\xfan la demanda sin afectar el rendimiento"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flexibilidad"}),": Adaptar m\xf3dulos y permisos seg\xfan las necesidades de cada organizaci\xf3n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trazabilidad"}),": Mantener un registro completo de todas las operaciones del sistema"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"objetivos-t\xe9cnicos",children:"Objetivos T\xe9cnicos"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Arquitectura de Microservicios"}),": Servicios independientes, desplegables y escalables de forma independiente"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event-Driven Architecture"}),": Comunicaci\xf3n as\xedncrona para desacoplamiento y resiliencia"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API-First"}),": Todas las funcionalidades expuestas mediante APIs bien documentadas"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alta Disponibilidad"}),": Dise\xf1o resiliente con redundancia y recuperaci\xf3n ante fallos"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"componentes-principales-del-sistema",children:"Componentes Principales del Sistema"}),"\n",(0,r.jsx)(n.mermaid,{value:'graph TB\n    subgraph "Frontend"\n        Web[Web Application]\n        Mobile[Mobile App]\n    end\n\n    subgraph "API Layer"\n        Gateway[API Gateway]\n    end\n\n    subgraph "Microservices"\n        Auth[Auth Service]\n        Catalog[Catalog Service]\n        Inventory[Inventory Service]\n        Orders[Order Service]\n        Audit[Audit Service]\n    end\n\n    subgraph "Infrastructure"\n        MQ[RabbitMQ]\n        Cache[Redis]\n        DB[(PostgreSQL)]\n    end\n\n    Web --\x3e Gateway\n    Mobile --\x3e Gateway\n\n    Gateway --\x3e Auth\n    Gateway --\x3e Catalog\n    Gateway --\x3e Inventory\n    Gateway --\x3e Orders\n\n    Auth -.publica eventos.-> MQ\n    Catalog -.publica eventos.-> MQ\n    Inventory -.publica eventos.-> MQ\n    Orders -.publica eventos.-> MQ\n\n    MQ -.consume.-> Audit\n    MQ -.consume.-> Catalog\n    MQ -.consume.-> Inventory\n    MQ -.consume.-> Orders\n\n    Catalog <--\x3e Cache\n\n    Auth --\x3e DB\n    Catalog --\x3e DB\n    Inventory --\x3e DB\n    Orders --\x3e DB\n    Audit --\x3e DB'}),"\n",(0,r.jsx)(n.h2,{id:"microservicios-del-sistema",children:"Microservicios del Sistema"}),"\n",(0,r.jsx)(n.h3,{id:"1-auth-service",children:"1. Auth Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Responsabilidad"}),": Identidad, autenticaci\xf3n y autorizaci\xf3n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Gesti\xf3n de usuarios, roles y permisos"}),"\n",(0,r.jsx)(n.li,{children:"Emisi\xf3n y validaci\xf3n de tokens JWT"}),"\n",(0,r.jsx)(n.li,{children:"RBAC (Role-Based Access Control) multinivel"}),"\n",(0,r.jsx)(n.li,{children:"Gesti\xf3n de organizaciones y locales"}),"\n",(0,r.jsx)(n.li,{children:"Control de sesiones"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tecnolog\xedas"}),": Python 3.11, FastAPI, PostgreSQL, Redis, gRPC"]}),"\n",(0,r.jsx)(n.h3,{id:"2-catalog-service",children:"2. Catalog Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Responsabilidad"}),": Gesti\xf3n del cat\xe1logo de productos"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CRUD de productos, variantes, colecciones"}),"\n",(0,r.jsx)(n.li,{children:"Gesti\xf3n de marcas (brands)"}),"\n",(0,r.jsx)(n.li,{children:"Etiquetas (tags) para clasificaci\xf3n"}),"\n",(0,r.jsx)(n.li,{children:"Price tiers (precios por volumen)"}),"\n",(0,r.jsx)(n.li,{children:"Referencias de inventario (solo lectura)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tecnolog\xedas"}),": Python 3.11, FastAPI, PostgreSQL, Redis, RabbitMQ"]}),"\n",(0,r.jsx)(n.h3,{id:"3-audit-service",children:"3. Audit Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Responsabilidad"}),": Auditor\xeda y trazabilidad"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Consumidor de todos los eventos del sistema"}),"\n",(0,r.jsx)(n.li,{children:"Registro centralizado de auditor\xeda"}),"\n",(0,r.jsx)(n.li,{children:"API de consultas con filtros avanzados"}),"\n",(0,r.jsx)(n.li,{children:"Compliance y reportes"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tecnolog\xedas"}),": Python 3.11, FastAPI, PostgreSQL, RabbitMQ"]}),"\n",(0,r.jsx)(n.h3,{id:"4-inventory-service",children:"4. Inventory Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Responsabilidad"}),": Gesti\xf3n de inventario"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Control de stock por bodega"}),"\n",(0,r.jsx)(n.li,{children:"Movimientos de inventario"}),"\n",(0,r.jsx)(n.li,{children:"Reservas y ajustes"}),"\n",(0,r.jsx)(n.li,{children:"Integraci\xf3n con Catalog"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tecnolog\xedas"}),": Python 3.11, FastAPI, PostgreSQL"]}),"\n",(0,r.jsx)(n.h3,{id:"5-order-service",children:"5. Order Service"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Responsabilidad"}),": Gesti\xf3n de \xf3rdenes"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Creaci\xf3n y seguimiento de \xf3rdenes"}),"\n",(0,r.jsx)(n.li,{children:"Estados del ciclo de vida"}),"\n",(0,r.jsx)(n.li,{children:"Integraci\xf3n con Catalog e Inventory"}),"\n",(0,r.jsx)(n.li,{children:"C\xe1lculo de totales"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Tecnolog\xedas"}),": Python 3.11, FastAPI, PostgreSQL"]}),"\n",(0,r.jsx)(n.h2,{id:"alcance-general",children:"Alcance General"}),"\n",(0,r.jsx)(n.h3,{id:"m\xf3dulos-funcionales",children:"M\xf3dulos Funcionales"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"M\xf3dulo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"Servicio Responsable"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Identidad y Acceso"})}),(0,r.jsx)(n.td,{children:"Usuarios, roles, permisos, organizaciones"}),(0,r.jsx)(n.td,{children:"Auth Service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Cat\xe1logo"})}),(0,r.jsx)(n.td,{children:"Productos, variantes, colecciones, marcas"}),(0,r.jsx)(n.td,{children:"Catalog Service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Inventario"})}),(0,r.jsx)(n.td,{children:"Stock, bodegas, movimientos, ajustes"}),(0,r.jsx)(n.td,{children:"Inventory Service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"\xd3rdenes"})}),(0,r.jsx)(n.td,{children:"\xd3rdenes de venta, cotizaciones"}),(0,r.jsx)(n.td,{children:"Order Service"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Auditor\xeda"})}),(0,r.jsx)(n.td,{children:"Trazabilidad, compliance, reportes"}),(0,r.jsx)(n.td,{children:"Audit Service"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"funcionalidades-transversales",children:"Funcionalidades Transversales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-tenancy"}),": Todos los servicios soportan m\xfaltiples organizaciones"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event-Driven"}),": Comunicaci\xf3n as\xedncrona mediante eventos"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RBAC"}),": Control de acceso granular en cada servicio"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auditor\xeda"}),": Todos los eventos son registrados"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Observabilidad"}),": Logs, m\xe9tricas y tracing distribuido"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"principios-de-dise\xf1o",children:"Principios de Dise\xf1o"}),"\n",(0,r.jsx)(n.h3,{id:"1-separaci\xf3n-de-responsabilidades-srp",children:"1. Separaci\xf3n de Responsabilidades (SRP)"}),"\n",(0,r.jsx)(n.p,{children:"Cada microservicio tiene una responsabilidad clara y bien definida."}),"\n",(0,r.jsx)(n.h3,{id:"2-desacoplamiento",children:"2. Desacoplamiento"}),"\n",(0,r.jsx)(n.p,{children:"Los servicios se comunican mediante:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REST APIs"}),": Para comunicaci\xf3n externa (frontend \u2194 backend)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"gRPC"}),": Para comunicaci\xf3n interna de alto rendimiento"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Eventos"}),": Para comunicaci\xf3n as\xedncrona"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-escalabilidad-horizontal",children:"3. Escalabilidad Horizontal"}),"\n",(0,r.jsx)(n.p,{children:"Cada servicio puede escalar independientemente seg\xfan su carga."}),"\n",(0,r.jsx)(n.h3,{id:"4-resilencia",children:"4. Resilencia"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Circuit breakers para prevenir cascading failures"}),"\n",(0,r.jsx)(n.li,{children:"Retry con backoff exponencial"}),"\n",(0,r.jsx)(n.li,{children:"Timeouts configurables"}),"\n",(0,r.jsx)(n.li,{children:"Dead Letter Queues para eventos fallidos"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"5-consistencia-eventual",children:"5. Consistencia Eventual"}),"\n",(0,r.jsx)(n.p,{children:"Los servicios mantienen consistencia mediante eventos, aceptando que los datos pueden estar temporalmente desincronizados."}),"\n",(0,r.jsx)(n.h2,{id:"flujo-general-de-una-operaci\xf3n",children:"Flujo General de una Operaci\xf3n"}),"\n",(0,r.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant Usuario\n    participant Gateway\n    participant Auth\n    participant Catalog\n    participant RabbitMQ\n    participant Audit\n\n    Usuario->>Gateway: POST /products (token)\n    Gateway->>Auth: Validar token (gRPC)\n    Auth--\x3e>Gateway: Usuario v\xe1lido + permisos\n    Gateway->>Catalog: Crear producto\n    Catalog->>Catalog: Validar reglas de negocio\n    Catalog->>DB: Guardar producto\n    Catalog->>RabbitMQ: Publicar "catalog.product.created"\n    Catalog--\x3e>Gateway: 201 Created\n    Gateway--\x3e>Usuario: Producto creado\n    RabbitMQ->>Audit: Consumir evento\n    Audit->>DB: Registrar en audit log'}),"\n",(0,r.jsx)(n.h2,{id:"decisiones-arquitect\xf3nicas-clave",children:"Decisiones Arquitect\xf3nicas Clave"}),"\n",(0,r.jsxs)(n.p,{children:["Las decisiones t\xe9cnicas importantes est\xe1n documentadas en la secci\xf3n de ",(0,r.jsx)(n.a,{href:"/decisiones-arquitectura/00-introduccion-adrs",children:"Architecture Decision Records (ADRs)"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event-Driven en Auth Service"}),": Por qu\xe9 Auth publica eventos"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Service Independiente"}),": Por qu\xe9 un servicio separado para auditor\xeda"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Comunicaci\xf3n H\xedbrida"}),": Por qu\xe9 REST + gRPC"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RabbitMQ vs Kafka"}),": Por qu\xe9 elegimos RabbitMQ"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PostgreSQL Multi-tenant"}),": Por qu\xe9 row-level isolation"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos Pasos"}),"\n",(0,r.jsx)(n.p,{children:"Para profundizar en la arquitectura, consulta:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/stack-tecnologico",children:"Stack Tecnol\xf3gico"})," - Tecnolog\xedas utilizadas y justificaci\xf3n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/arquitectura-event-driven",children:"Arquitectura Event-Driven"})," - Comunicaci\xf3n as\xedncrona"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/comunicacion-microservicios",children:"Comunicaci\xf3n entre Microservicios"})," - REST + gRPC"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/multi-tenancy",children:"Multi-tenancy"})," - Aislamiento de datos por organizaci\xf3n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/seguridad-rbac",children:"Seguridad y RBAC"})," - Control de acceso"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/arquitectura/patrones-diseno",children:"Patrones de Dise\xf1o"})," - Patrones aplicados"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var s=i(6540);const r={},a=s.createContext(r);function l(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);