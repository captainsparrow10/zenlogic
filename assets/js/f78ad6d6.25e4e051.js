"use strict";(globalThis.webpackChunkerp_docs=globalThis.webpackChunkerp_docs||[]).push([[9039],{24:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"microservicios/inventory-service/api-locations","title":"Locations API","description":"API REST para gesti\xf3n de ubicaciones f\xedsicas dentro de las bodegas con estructura jer\xe1rquica.","source":"@site/docs/02-microservicios/inventory-service/13-api-locations.md","sourceDirName":"02-microservicios/inventory-service","slug":"/microservicios/inventory-service/api-locations","permalink":"/zenlogic/microservicios/inventory-service/api-locations","draft":false,"unlisted":false,"editUrl":"https://github.com/your-repo/edit/main/docs/02-microservicios/inventory-service/13-api-locations.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13},"sidebar":"docs","previous":{"title":"Adjustments API","permalink":"/zenlogic/microservicios/inventory-service/api-adjustments"},"next":{"title":"Eventos Publicados","permalink":"/zenlogic/microservicios/inventory-service/eventos-publicados"}}');var c=s(4848),r=s(8453);const d={sidebar_position:13},t="Locations API",o={},l=[{value:"Endpoints",id:"endpoints",level:2},{value:"Listar Ubicaciones",id:"listar-ubicaciones",level:3},{value:"Obtener \xc1rbol de Ubicaciones",id:"obtener-\xe1rbol-de-ubicaciones",level:3},{value:"Crear Ubicaci\xf3n",id:"crear-ubicaci\xf3n",level:3},{value:"Actualizar Ubicaci\xf3n",id:"actualizar-ubicaci\xf3n",level:3},{value:"Obtener Stock de Ubicaci\xf3n",id:"obtener-stock-de-ubicaci\xf3n",level:3},{value:"Jerarqu\xeda de Tipos",id:"jerarqu\xeda-de-tipos",level:2},{value:"Permisos Requeridos",id:"permisos-requeridos",level:2},{value:"Pr\xf3ximos Pasos",id:"pr\xf3ximos-pasos",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"locations-api",children:"Locations API"})}),"\n",(0,c.jsx)(n.p,{children:"API REST para gesti\xf3n de ubicaciones f\xedsicas dentro de las bodegas con estructura jer\xe1rquica."}),"\n",(0,c.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,c.jsx)(n.h3,{id:"listar-ubicaciones",children:"Listar Ubicaciones"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:"GET /api/v1/locations\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Par\xe1metro"}),(0,c.jsx)(n.th,{children:"Tipo"}),(0,c.jsx)(n.th,{children:"Requerido"}),(0,c.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"warehouse_id"})}),(0,c.jsx)(n.td,{children:"UUID"}),(0,c.jsx)(n.td,{children:"S\xed"}),(0,c.jsx)(n.td,{children:"Bod ega a consultar"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"parent_location_id"})}),(0,c.jsx)(n.td,{children:"UUID"}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"Ubicaci\xf3n padre"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"location_type"})}),(0,c.jsx)(n.td,{children:"string"}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"zone, aisle, rack, shelf, bin"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"is_active"})}),(0,c.jsx)(n.td,{children:"boolean"}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"Solo activas (default: true)"})]})]})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Respuesta Exitosa (200 OK):"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "statusCode": 200,\n  "data": {\n    "edges": [\n      {\n        "cursor": "bG9jXzEyMw==",\n        "node": {\n          "location_id": "loc_123",\n          "warehouse_id": "wh_001",\n          "parent_location_id": null,\n          "name": "Zona A",\n          "code": "WH01-ZA",\n          "location_type": "zone",\n          "level": 0,\n          "capacity": {\n            "max_capacity": 2000,\n            "current_capacity": 1200,\n            "utilization_percentage": 60.0\n          },\n          "is_active": true,\n          "children_count": 5,\n          "stock_count": 0\n        }\n      }\n    ],\n    "pageInfo": {\n      "hasNextPage": false,\n      "totalCount": 25\n    }\n  }\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"obtener-\xe1rbol-de-ubicaciones",children:"Obtener \xc1rbol de Ubicaciones"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:"GET /api/v1/locations/tree\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Par\xe1metro"}),(0,c.jsx)(n.th,{children:"Tipo"}),(0,c.jsx)(n.th,{children:"Requerido"}),(0,c.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"warehouse_id"})}),(0,c.jsx)(n.td,{children:"UUID"}),(0,c.jsx)(n.td,{children:"S\xed"}),(0,c.jsx)(n.td,{children:"Bodega a consultar"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"max_depth"})}),(0,c.jsx)(n.td,{children:"integer"}),(0,c.jsx)(n.td,{children:"No"}),(0,c.jsx)(n.td,{children:"Profundidad m\xe1xima (default: 5)"})]})]})]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Respuesta:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "data": {\n    "warehouse_id": "wh_001",\n    "total_locations": 125,\n    "tree": [\n      {\n        "location_id": "loc_001",\n        "name": "Zona A",\n        "code": "WH01-ZA",\n        "type": "zone",\n        "level": 0,\n        "children": [\n          {\n            "location_id": "loc_002",\n            "name": "Pasillo 1",\n            "code": "WH01-ZA-P01",\n            "type": "aisle",\n            "level": 1,\n            "children": [\n              {\n                "location_id": "loc_003",\n                "name": "Estanter\xeda 1",\n                "code": "WH01-ZA-P01-E01",\n                "type": "rack",\n                "level": 2,\n                "children": []\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"crear-ubicaci\xf3n",children:"Crear Ubicaci\xf3n"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:"POST /api/v1/locations\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "warehouse_id": "wh_001",\n  "parent_location_id": "loc_002",\n  "name": "Estanter\xeda 5",\n  "code": "WH01-ZA-P01-E05",\n  "location_type": "rack",\n  "max_capacity": 200\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Respuesta (201):"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "statusCode": 201,\n  "data": {\n    "location_id": "loc_new456",\n    "name": "Estanter\xeda 5",\n    "code": "WH01-ZA-P01-E05",\n    "location_type": "rack",\n    "level": 2,\n    "created_at": "2025-11-23T16:00:00Z"\n  }\n}\n'})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"C\xf3digos de Error:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"404"})," - ",(0,c.jsx)(n.code,{children:"WAREHOUSE_NOT_FOUND"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"404"})," - ",(0,c.jsx)(n.code,{children:"PARENT_LOCATION_NOT_FOUND"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"409"})," - ",(0,c.jsx)(n.code,{children:"LOCATION_CODE_EXISTS"})]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"actualizar-ubicaci\xf3n",children:"Actualizar Ubicaci\xf3n"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:"PUT /api/v1/locations/{locationId}\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "name": "Estanter\xeda 5 - Renovada",\n  "max_capacity": 250,\n  "is_active": true\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h3,{id:"obtener-stock-de-ubicaci\xf3n",children:"Obtener Stock de Ubicaci\xf3n"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-http",children:"GET /api/v1/locations/{locationId}/stock\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Respuesta:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-json",children:'{\n  "status": "success",\n  "data": {\n    "location_id": "loc_123",\n    "location_name": "Estanter\xeda 1",\n    "total_variants": 45,\n    "total_quantity": 680,\n    "stock_items": [\n      {\n        "stock_id": "stock_456",\n        "variant_id": "var_789",\n        "variant_sku": "PROD-001",\n        "quantity": 150\n      }\n    ]\n  }\n}\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"jerarqu\xeda-de-tipos",children:"Jerarqu\xeda de Tipos"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"Warehouse (Bodega)\n\u2514\u2500\u2500 Zone (Zona de almacenamiento)\n    \u2514\u2500\u2500 Aisle (Pasillo)\n        \u2514\u2500\u2500 Rack (Estanter\xeda)\n            \u2514\u2500\u2500 Shelf (Estante)\n                \u2514\u2500\u2500 Bin (Contenedor/Casillero)\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Niveles:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Level 0: Zone"}),"\n",(0,c.jsx)(n.li,{children:"Level 1: Aisle"}),"\n",(0,c.jsx)(n.li,{children:"Level 2: Rack"}),"\n",(0,c.jsx)(n.li,{children:"Level 3: Shelf"}),"\n",(0,c.jsx)(n.li,{children:"Level 4: Bin"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Convenci\xf3n de C\xf3digos:"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"WH01-ZA-P05-E03-S02-B01\n\u2502    \u2502  \u2502   \u2502   \u2502   \u2514\u2500\u2500 Bin 01\n\u2502    \u2502  \u2502   \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500 Shelf 02\n\u2502    \u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Rack (Estanter\xeda) 03\n\u2502    \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Pasillo (Aisle) 05\n\u2502    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Zona A\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Warehouse 01\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"permisos-requeridos",children:"Permisos Requeridos"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"Endpoint"}),(0,c.jsx)(n.th,{children:"Permiso"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"GET /locations"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"inventory.locations.read"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"GET /locations/tree"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"inventory.locations.read"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"POST /locations"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"inventory.locations.create"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"PUT /locations/{id}"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"inventory.locations.update"})})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"GET /locations/{id}/stock"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"inventory.stock.read"})})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"pr\xf3ximos-pasos",children:"Pr\xf3ximos Pasos"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./eventos-publicados",children:"Eventos Publicados"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"./errores-comunes",children:"Errores Comunes"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>t});var i=s(6540);const c={},r=i.createContext(c);function d(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);